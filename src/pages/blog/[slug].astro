---
/**
 * Blog Post Detail Page
 * Individual blog post view
 */

import BlogPost from '../../layouts/BlogPost.astro';
import Navbar from '../../components/Navbar.vue';
import Footer from '../../components/Footer.vue';

// Get all posts and generate static paths
const allPosts = await Astro.glob('../../content/posts/*.md');

export async function getStaticPaths() {
  const posts = await Astro.glob('../../content/posts/*.md');

  return posts.map(post => ({
    params: {
      slug: post.file.split('/').pop().replace('.md', ''),
    },
    props: { post },
  }));
}

const { post } = Astro.props;
const { Content, frontmatter } = post;
---

<BlogPost frontmatter={frontmatter}>
  <!-- Navigation -->
  <Navbar slot="nav" client:load />

  <!-- Blog Content -->
  <Content />

  <!-- Footer -->
  <Footer slot="footer" client:load />
</BlogPost>
